# Описание
**DegradationTests** - сайт для прохождения и создания всех видов идиотских тестов из интернета, к примеру: 
- Кто ты из Винкс?
- Какой ты фикус по матрице судьбы?
- И прочие подобные тесты.

Для более комфортного **прохождения тестов** для каждого пользователя есть возможность фильтрации по видам тестов и кол-ву положительных отметок на них от других пользователей.

А чтобы было удобно **создавать тесты** пользователю будут предложены шаблоны на каждый вид теста, где часть вопросов будет заранее заготовлена системой, а другая - даст полную свободу для человека.

Сайт будет доступен лишь **для авторизованных пользователей** через их почту и пароль.

# Техническое задание
## Структура сайта
**Основная страница:**

Постоянной частью этой страницы будет являться шапка страницы, где будет размещено название сайта. **Остальной контент зависит от состония пользователя: авторизован/не авторизован.**

Если человек не авторизовался, то в шапке сайта он будет видеть кнопки для регистрации и входа. Тесты, средства для их фильтрации и работы с ними он также не сможет видеть. Вместо них будет приветственное сообщение с объяснением.

Если же человек авторизован, то в шапке сайта он будет видеть свой ник и кнопку для выхода из аккаунта. В главной части страницы будут размещены обложки тестов, под которыми будет располагаться либо 1 кнопка - "начать прохождение", если человек НЕ создатель теста или администратор (пользователь с id 1), либо 2 - в противном случае: "начать прохождение", "изменить".

Чуть выше списка тестов будут находиться чекбоксы для фильтрации.

**Страница регистрации:**

Представлена формой, состоящей из следующих компонентов:
- Поле заполнения имени пользователя
- Поле заполнения почты
- Поле заполнения пароля и его повторения
- Кнопка "Запомнить меня"

**Страница входа:**

Представлена формой, состоящей из следующих компонентов:
- Поле заполнения почты
- Поле заполнения пароля
- Кнопка "Запомнить меня"

**Страница удаления аккаунта:**

Представлена формой, состоящей из следующих компонентов (P.S. При удалении пользователя будут удалены все его тесты):
- Поле заполнения почты
- Поле заполнения пароля

**Страница добавления теста (Выбор):**

Данная страница предоставляет пользователю возможность выбрать какой шаблон теста он хочет использовать между следующими вариантами: 
- Какой ты ... (1)
- Насколько ты совместим с ... (2)
- На сколько процентов ты ...(3)
  
При нажатии на каждый из них пользователь переходит на страницу с формой для создания теста.

**Страница добавления теста (Форма):**

В зависимости от выбранного варианта на странице, описанной чуть выше, пользователю будет выдана форма, в которой он сможет свободно разместить необходимый контент для любого типа тестов. В нём будут следующие пункты:
- Название теста (До 20 символов)
- Описание теста (До 100 символов)
- Картинка для обложки теста (Соотношение сторон 1:1)
- Семь вопросов типа: заголовок и четыре варианта ответов
- Три вопроса типа: заголовок и поле для ответа пользователя
- Четыре картинки и комментария для различных результатов теста.
- Установление приватности теста (Т.е. он не будет виден на основной странице)

Для каждого вопроса с возможностью выбора пользователь **должен самостоятельно установить** заголовок и ответы, для вопроса со свободным ответом - заголовок и возможные "правильные" варианты ответа через точку с запятой.

**Подсчёт результатов будет делаться самим сайтом:** 
- Для типа теста (1) будет разработана система баллов: на каждый вариант ответа пользователь сможет установить номер того окончательного результата, к которому будет вести такое решение. За него пользователь получит +1 балл к этому варианту. У какого варианта баллов будет больше - тот и получит пользователь.
- Для типов тестов (2) и (3) действует похожая система процентовки: задания с выбором ответов дают от 0% до 10% (с шагом в 5%), а свободные задания за правильный ответ дадут 10%, неполностью правильный - 5%. Пользователь сможет получить от 0% до 100%

Правильным ответом будет считаться тот, который равен одному из вариантов, установленным составителем теста, а неполным правильным ответом - лишь похожий на один из установленных вариантов.

**Страница изменения теста:**

При нажатиии на соответствующую кнопку пользователь будет перенесён на форму, с помощью которой был создан тест, которая будет предварительно заполнена старыми значениями. Каждый из них пользователь сможет поменять.
## Структура БД
**Таблица пользователей:**
- id (PRIMARY KEY; Особое значение каждого пользователя сайта)
- name (VARCHAR; Ник пользователя на сайте)
- email (VARCHAR; Почта от аккаунта пользователя на сайте)
- password (VARCHAR; Пароль от аккаунта пользователя на сайте)

**Таблица тестов:**
- id (PRIMARY KEY; Особое значение каждого теста сайта)
- type (INTEGER; Тип теста)
- creator (FOREIGN KEY; ID составителя теста)
- title (VARCHAR; Название теста)
- description (VARCHAR; Описание теста)
- cover (BLOB; Картинка для обложки теста)
- questions (BLOB; Файл с вопросами для теста)
- answers(BLOB; Файл с ответами для теста)
- status (BOOLEAN; Статус приватности теста)

**Таблица результатов:**
- id (PRIMARY KEY; Особое значение для каждого списка возможных результатов)
- comment_1 - comment_4 (VARCHAR; Дополнительный комментарий для каждого возможного результата)
- image_1 - image_4 (BLOB; Картинка к каждому возможному результату)
## Структура папок и файлов
В основой папке проекта **DegradationTests** будет находится файл main.py, в котором будут находится все обработчики. Во время работы также предполагается наличие тестовых файлов, например, для проверки работы API.

**Папка templates:**

Папка, где будут находится все необходимые html-файлы, которые впоследствии будут передаваться обработчикам. Сюда входят:
- base.html (Шаблон с постоянным контентом, который будут использовать другие шаблоны и расширять его)
- register.html (Шаблон с формой для регистрации пользователя на сайте)
- login.html (Шаблон с формой авторизации пользователя на сайте)
- delete_user.html (Шаблон с формой удаления пользователя с сайта)
- tests_act.html (Шаблон с основной страницей сайта, на которой будут располагаться все тесты, доступные для прохождения)
- tests_make.html (Шаблон с второстепенной страницей сайта, на которой будут располагаться все варианты доступных типов теста для создания)
- tm_type(1/2/3).html (Шаблоны с формами для создания тестов)
- ta_running.html (Шаблон с формой для прохождения теста)
- ta_results.html (Шаблон с результатами пройденного теста)

**Папка static:**
- css (Папка с необходимыми файлами стилей для сайта)
- images (Папка с необходимыми файлами картинок для сайта)

**Папка forms:**
- user_forms.py (Файл с необходимыми формами для пользователя: регистрация и авторизация)
- test_forms.py (Файл с необходимыми формами для тестов: прохождение и создание)

**Папка db:**
- degradation_tests.db (Файл с БД для сайта)

**Папка data:**
- user_model.py (Файл с моделью пользователя)
- test_model.py (Файл с моделью теста)
- results_model.py (Файл с моделью результатов теста)
- __all_models.py (Файл для подключения всех существующих моделей)
- user_resources.py (Файл с ресурсами пользователя)
- test_resources.py (Файл с ресурсами теста)
- results_resources.py (Файл с ресурсами результатов)
